<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<!--<BorderPane
xmlns="http://javafx.com/javafx"
    xmlns:fx="http://javafx.com/fxml"
    fx:controller="com.example.MainController">

    - Top Status Bar -
    <top>
        <HBox spacing="10">
            <Button text="Fresh Import" onAction="#onFreshImportClicked" />
            <Button text="Merge to Existing" onAction="#onMergeImportClicked" />
            <ProgressBar fx:id="importProgress" prefWidth="300" />
            <Label fx:id="statusLabel" text="Status..." />
        </HBox>
    </top>

    - Left Sidebar: Tree View + MDB Sources -
    <left>
        <VBox spacing="10">
            <Label text="Tables" />
            <TreeView fx:id="tableTreeView" VBox.vgrow="ALWAYS" />
            <Label text="Imported MDBs" />
            <ListView fx:id="mdbListView" VBox.vgrow="ALWAYS" />
            <Label text="Failed Imports" />
            <ListView fx:id="failedImportsListView" VBox.vgrow="ALWAYS" />
        </VBox>
    </left>

    - Center: Query + Results -
    <center>
        <VBox spacing="10">
            <Label text="SQL Query" />
            <TextArea fx:id="queryArea" prefRowCount="12" VBox.vgrow="NEVER" />
            <HBox spacing="10">
                <Button text="Run Query" onAction="#onRunQueryClicked" />
                <Button fx:id="exportButton" text="Export to CSV" onAction="#onExportClicked"
                    visible="false" />
            </HBox>
            <TableView fx:id="resultTable" VBox.vgrow="ALWAYS" />
        </VBox>
    </center>

</BorderPane>-->

<BorderPane fx:controller="com.example.MainController" xmlns:fx="http://javafx.com/fxml">
    <top>
        <ToolBar>
            <Button text="ðŸ“ Import MDBs" onAction="#onFreshImportClicked" />
            <Button text="ðŸ” Merge MDBs" onAction="#onMergeImportClicked" />
            <Separator orientation="VERTICAL" />
            <Button text="ðŸ§ª Run Query" onAction="#onRunQueryClicked" />
            <Button fx:id="exportButton" text="ðŸ’¾ Export to CSV" onAction="#onExportClicked"
                visible="false" />

            <!-- Spacer to push the toggle button to the far right -->
            <Pane HBox.hgrow="ALWAYS" />

            <!-- Theme toggle button -->
            <ToggleButton fx:id="themeToggle" id="themeToggle" text="Light Mode">
                <tooltip>
                    <Tooltip text="Toggle Dark/Light Mode" />
                </tooltip>
            </ToggleButton>
        </ToolBar>
    </top>

    <center>
        <SplitPane dividerPositions="0.25, 0.75">
            <VBox spacing="10.0" prefWidth="250">
                <Label text="ðŸ“Š Tables" style="-fx-font-weight: bold;" />
                <TreeView fx:id="tableTreeView" VBox.vgrow="ALWAYS" />

                <HBox spacing="10">
                    <Label text="ðŸ“¦ Imported MDBs" style="-fx-font-weight: bold;" />
                    <Label fx:id="importedCountLabel" id="importedCountLabel" />
                </HBox>

                <TextField fx:id="mdbSearchField" promptText="Search imported MDBs..." />
                <ListView fx:id="mdbListView" VBox.vgrow="ALWAYS" />
                <Label text="âŒ Failed Imports" style="-fx-font-weight: bold;" />
                <ListView fx:id="failedImportsListView" VBox.vgrow="ALWAYS" />
            </VBox>

            <VBox spacing="10">
                <Label text="ðŸ“ SQL Query:" style="-fx-font-weight: bold;" />
                <TextArea fx:id="queryArea" prefRowCount="8" VBox.vgrow="NEVER" />
                <TableView fx:id="resultTable" VBox.vgrow="ALWAYS" />
            </VBox>
        </SplitPane>
    </center>

    <bottom>
        <HBox spacing="10">
            <Label fx:id="statusLabel" text="Ready." HBox.hgrow="ALWAYS" />
            <ProgressBar fx:id="importProgress" prefWidth="300" />
        </HBox>
    </bottom>
</BorderPane>